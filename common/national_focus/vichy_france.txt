#!gfx:interface\lw_goals.gfx
#!gfx:interface\KR_goals.gfx
#!gfx:interface\cic_goals.gfx
#!gfx:interface\snek_teleport.gfx
#!gfx:interface\replace\bruh_interface.gfx
#!gfx:interface\replace\bruh_bra_interface.gfx
#!gfx:interface\replace\bruh_eng_interface.gfx
#!gfx:interface\replace\bruh_ger_interface.gfx
#!gfx:interface\replace\bruh_hol_interface.gfx
#!gfx:interface\replace\bruh_ita_interface.gfx
#!gfx:interface\replace\bruh_jap_interface.gfx
#!gfx:interface\replace\bruh_nsb_interface.gfx
#!gfx:interface\replace\bruh_sov_interface.gfx

focus_tree = {
	id = vichy_french_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = VIC
		}
	}
	
	default = no

    continuous_focus_position = { x = 0 y = 1200 }


	focus = {
		id = VIC_bugifx
		x = 24
		y = 0
		
		cost = 1

		ai_will_do = {
            factor = 0
        }

		available = {

		}
		
		bypass = {

		}
		cancel_if_invalid = no
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		}
	}

	focus = {
		id = VIC_Establishing_Vichy
		icon = GFX_goal_generic_demand_territory
		x = -16
		y = 0
        relative_position_id = VIC_bugifx
		
		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
            VIC = {
                has_country_flag = VIC_france_capped
            }
		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_political_power = 300
            add_stability = 0.1
			# 300pp
            # 10% stability
		}
	}

    focus = {
		id = VIC_Accept_Axis_Claims
		icon = GFX_goal_generic_territory_or_war
        mutually_exclusive = { focus = VIC_Restoring_France }
        prerequisite = { focus = VIC_Establishing_Vichy }
        relative_position_id = VIC_Establishing_Vichy
		x = -2
		y = 1
		
		cost = 10

		ai_will_do = {
			factor = 1
		}
        
		available = {

		}
		
		bypass = {

		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
            add_political_power = 150
            reduce_occupation_cost_effect = yes
			# 150 pp
		}
	}

    focus = {
        id = VIC_Reduce_the_costs_of_Occupation
        icon = GFX_focus_up_joan_of_arc
        prerequisite = { focus = VIC_Accept_Axis_Claims }
        relative_position_id = VIC_Accept_Axis_Claims
        x = 1
        y = 1
        
        cost = 10
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            reduce_occupation_cost_effect = yes
            # Occupation cost -10% consumer goods
        }
    }

    focus = {
        id = VIC_Convert_Dockyards_for_Civilians
        icon = GFX_underground
        prerequisite = { focus = VIC_Reduce_the_costs_of_Occupation }
        relative_position_id = VIC_Reduce_the_costs_of_Occupation
        x = -1
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_converted_dockyards_for_civilians
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            #-100% construction speed for dockyards
            # -90% dockyard output
            # + 4 civs
        }
    }

    focus = {
        id = VIC_Strengthen_the_Industry
        icon = GFX_goal_generic_construct_civ_factory
        prerequisite = { focus = VIC_Reduce_the_costs_of_Occupation }
        relative_position_id = VIC_Reduce_the_costs_of_Occupation
        x = 1
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            # random_owned_controlled_state = {
			# 	limit = {
			# 		free_building_slots = {
			# 			building = arms_factory
			# 			size > 1
			# 			include_locked = yes
			# 		}
			# 		is_core_of = ROOT
			# 	}
			# 	add_extra_state_shared_building_slots = 2
			# 	add_building_construction = {
			# 		type = arms_factory
			# 		level = 2
			# 		instant_build = yes
			# 	}
			# }
            # +2 civs
            # +2 mils
        }
    }

    focus = {
        id = VIC_Adjust_the_Industry
        icon = GFX_GER_consolidation
        prerequisite = { focus = VIC_Strengthen_the_Industry focus = VIC_Reduce_Occupation }
        relative_position_id = VIC_Strengthen_the_Industry
        x = 0.5
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_adjusting_the_industry
            # add_ideas = partial_economic_mobilisation
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
                limit = {
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = steel_refinery
					level = 1
					instant_build = yes
				}
			}
            #10% civ/mil construction
            # +2 civs
            # +1 steel ref
            # add partial mob
        }
    }

    focus = {
        id = VIC_End_the_payments
        icon = GFX_focus_mex_privatisation
        prerequisite = { focus = VIC_Adjust_the_Industry }
        prerequisite = { focus = VIC_Strengthen_the_Industry }
        prerequisite = { focus = VIC_Convert_Dockyards_for_Civilians }
        relative_position_id = VIC_Adjust_the_Industry
        x = -1.5
        y = 1
        
        cost = 10
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            # Remove occupations cost
            remove_occupation_cost_effect = yes
        }
    }

    focus = {
        id = VIC_Improved_Production_Effort
        icon = GFX_goal_generic_construct_mil_factory
        prerequisite = { focus = VIC_End_the_payments }
        relative_position_id = VIC_End_the_payments
        x = 0
        y = 2
        
        cost = 10
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_stability = 0.10
            add_war_support = 0.10
            add_ideas = VIC_improved_production_effort
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
            # 10% Stability
            # 10% war support
            # 10% factory output
            # 10% mil construction
        }
    }

    focus = {
        id = VIC_Protection_from_the_Sky
        icon = GFX_focus_fra_milice
        prerequisite = { focus = VIC_Improved_Production_Effort }
        relative_position_id = VIC_Improved_Production_Effort
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            every_state = {
				limit = {
					is_core_of = VIC
                    is_controlled_by = VIC
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
            460 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
            26 = {
				add_building_construction = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
            # +2 state aa in mainland france
            # +2 airports in mainland france
        }
    }

    focus = {
        id = VIC_Hand_over_the_Navy
        icon = GFX_focus_generic_navy_battleship2
        prerequisite = { focus = VIC_End_the_payments focus = VIC_Cave_to_the_Germans }
        relative_position_id = VIC_End_the_payments
        x = 1
        y = 1
        
        cost = 10
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            hidden_effect = {
                VIC = {
                    transfer_navy = {
                        target = GER
                    }
                }
            }
            custom_effect_tooltip = vic_hand_over_navy_tt
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            
            # +4 civs
            # germany gets vichy navy
        }
    }

    focus = {
        id = VIC_Building_up_the_coastal_defence
        icon = GFX_goal_generic_fortify_city
        mutually_exclusive = { focus = VIC_Finish_Old_Ships }
        prerequisite = { focus = VIC_Hand_over_the_Navy }
        prerequisite = { focus = VIC_Protection_from_the_Sky focus = VIC_Protect_the_French_People }
        relative_position_id = VIC_Hand_over_the_Navy
        x = 0
        y = 3
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            every_state = {
                limit = {
                    naval_base > 0
                    is_controlled_by = ROOT
                }
                add_building_construction = {
                    type = coastal_bunker
                    province = {
                        all_provinces = yes
                        limit_to_naval_base = yes
                    }
                    level = 2
                    instant_build = yes
                }
            }
            # +2 coastal fort in Every owned state with port
        }
    }

    focus = {
        id = VIC_Restructuring_the_Military
        icon = GFX_goal_generic_army_doctrines
        prerequisite = { focus = VIC_Accept_Axis_Claims }
        relative_position_id = VIC_Accept_Axis_Claims
        x = -3
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            army_experience = 50
            # 50 army XP
        }
    }

    focus = {
        id = VIC_Join_The_Axis
        icon = GFX_goal_support_fascism
        prerequisite = { focus = VIC_Accept_Axis_Claims }
        relative_position_id = VIC_Accept_Axis_Claims
        x = -1
        y = 1
        
        cost = 1
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
            OR = {
                date > 1941.8.1
                GER = {
                    has_war_with = SOV
                }
            }
        }
        
        bypass = {
            is_in_faction_with = GER
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            GER = {
				add_to_faction = ROOT
			}
            remove_ideas = neutrality_idea
            remove_ideas = neutrality_idea2
            hidden_effect = {
                every_country = {
                    limit = {
                        OR = {
                            tag = USA
                            tag = BRA
                            tag = MEX
                            tag = ENG
                            is_in_faction_with = ENG
                        }
                    }
                    news_event = vichy.4
                }
            }
            hidden_effect = {
                FRA = {
                    division_template = {
                        name = "African Infantry"
                        division_names_group = FRA_INF_01
                    
                        regiments = {
                            infantry = { x = 0 y = 0 }
                            infantry = { x = 0 y = 1 }
                            infantry = { x = 0 y = 2 }
                            infantry = { x = 0 y = 3 }
    
                            infantry = { x = 1 y = 0 }
                            infantry = { x = 1 y = 1 }
                            infantry = { x = 1 y = 2 }
                            infantry = { x = 1 y = 3 }
    
                            infantry = { x = 2 y = 0 }
                            infantry = { x = 2 y = 1 }
                            infantry = { x = 2 y = 2 }
    
                            artillery_brigade = { x = 3 y = 0 }
                            artillery_brigade = { x = 3 y = 1 }
                            artillery_brigade = { x = 3 y = 2 }
                            artillery_brigade = { x = 3 y = 3 }
    
                            artillery_brigade = { x = 4 y = 0 }
                            artillery_brigade = { x = 4 y = 1 }
                            artillery_brigade = { x = 4 y = 2 }
                            artillery_brigade = { x = 4 y = 3 }
                        }
                        support = {
                            hq_company = { x = 0 y = 0 } 
                            engineer = { x = 0 y = 1 }   
                            recon = { x = 0 y = 2 }
                            logistics_company_mot  = { x = 0 y = 3 }
                            anti_air = { x = 1 y = 0 }
                        }
                    }
                    779 = {
                        for_loop_effect = {
                            end = 15
                            create_unit = {
                                division = "name = \"African Infantry\" division_template = \"African Infantry\" start_experience_factor = 0.5"
                                owner = FRA
                            }
                        }
                    } 
                }
            }
            FRA = {
                custom_effect_tooltip = FRA_15_africa_spawn_in_tt
            }
        }
    }

    focus = {
        id = VIC_Concentrate_on_tanks
        icon = GFX_goal_generic_army_tanks
        prerequisite = { focus = VIC_Restructuring_the_Military }
        relative_position_id = VIC_Restructuring_the_Military
        x = 0
        y = 1
        
        cost = 10
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_concentrate_on_tanks
            # 10% research bonus Tanks
            # 10% reliability 
            # 10% speed
            # -10% production cost
        }
    }

    focus = {
        id = VIC_Produce_our_own_Tanks
        icon = GFX_goal_generic_military_sphere
        mutually_exclusive = { focus = VIC_Learn_from_the_germans }
        prerequisite = { focus = VIC_Concentrate_on_tanks }
        relative_position_id = VIC_Concentrate_on_tanks
        x = -1
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            army_experience = 100
            add_tech_bonus = {
				name = VIC_Produce_our_own_Tanks
				bonus = 0.75
                ahead_reduction = 0.5
				uses = 1
				category = armor
			}
            if = {
				limit = {
					NOT = {
                        has_dlc = "Arms Against Tyranny"
                    }
				}
                custom_effect_tooltip = available_designer
                show_ideas_tooltip = VIC_renault
                add_ideas = VIC_renault
            }
            # 100 army XP
            # 0.5 year ahead of time 75% bonus armor
            # HV Tank designer
        }
    }

    focus = {
        id = VIC_Learn_from_the_germans
        icon = GFX_focus_generic_license_production
        mutually_exclusive = { focus = VIC_Produce_our_own_Tanks }
        prerequisite = { focus = VIC_Concentrate_on_tanks }
        relative_position_id = VIC_Concentrate_on_tanks
        x = 1
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            army_experience = 50
            add_tech_bonus = {
				name = VIC_Learn_from_the_germans
				bonus = 0.50
				uses = 1
				category = armor
			}
            add_relation_modifier = {
				target = GER
				modifier = ROM_license_german_equipment
			}
            # country_event = vichy.1
			add_to_tech_sharing_group = axis_research
            # custom_effect_tooltip = vic_unlock_tank_share_tt
            set_country_flag = VIC_join_tank_sharing
            custom_effect_tooltip = VIC_ger_engineering
            add_political_power = 150
            # Join axis research program
            # 50 army XP
            # 20% license production speed of germany
            # become part of the german tank sharing
            # 50% research bonus
            # german tank designer
        }
    }

    focus = {
        id = VIC_Ramp_up_the_Production
        icon = GFX_expand_mefo
        prerequisite = { focus = VIC_Learn_from_the_germans focus = VIC_Produce_our_own_Tanks }
        relative_position_id = VIC_Learn_from_the_germans
        x = -1
        y = 1 
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            # add_ideas = VIC_ramped_up_prodution
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
                limit = {
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = steel_refinery
					level = 2
					instant_build = yes
				}
			}
            # 10% factory output
            # +2 mils
            # +1 steel ref
        }
    }

    focus = {
        id = VIC_Protect_the_Mainland
        icon = GFX_focus_fra_french_union
        mutually_exclusive = { focus = VIC_Support_in_Africa focus = VIC_Prepare_for_the_Eastern_Front }
        prerequisite = { focus = VIC_Ramp_up_the_Production }
        relative_position_id = VIC_Ramp_up_the_Production
        x = -2
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_defensive_generals
            hidden_effect = {
                create_corps_commander = {
                    name="Maxime Giroux"
                    # advisor={
                    # 	slot = high_command
                    # 	idea_token = courtney_hodges
                    # 	ledger = army 
                    # 	allowed = {
                    # 		original_tag  = USA
                    # 	}
                    # 	traits  = {
                    # 		army_commando_2 
                    # 	}
                    # 	cost = 100
                    # 	ai_will_do  = {
                    # 		factor  = 1.000
                    # 	}
                    # }
                    # portraits={
                    # 	army={
                    # 		small="GFX_idea_courtney_hodges"
                    # 	}
                    # 	army={
                    # 		large="gfx/leaders/USA/Portrait_USA_Cortney_Hodges.dds"
                    # 	}
                    # }
                        traits={ panzer_leader inflexible_strategist old_guard urban_assault_specialist ambusher }
                        skill=3
                        attack_skill=3
                        defense_skill=4
                        planning_skill=3
                        logistics_skill=4
                        legacy_id=-1
                }
            }
            custom_effect_tooltip = general_maxime_giroux_tt
            every_army_leader = {
				add_defense = 1
			}
            # All and new generals gain +1 defense
            # New general:
                #• Armor officer
                #• inflexible strategist
                #• old guard
                #• urban assault specialist
                #• ambusher
        }
    }

    focus = {
        id = VIC_Better_Protection
        icon = GFX_goal_generic_fortify_city
        prerequisite = { focus = VIC_Protect_the_Mainland }
        relative_position_id = VIC_Protect_the_Mainland
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_better_protection
            # 10% defense
            # 20% planing speed
            # 10% speed
        }
    }

    focus = {
        id = VIC_Support_in_Africa
        icon = GFX_superior_tactics
        mutually_exclusive = { focus = VIC_Protect_the_Mainland focus = VIC_Prepare_for_the_Eastern_Front }
        prerequisite = { focus = VIC_Ramp_up_the_Production }
        relative_position_id = VIC_Ramp_up_the_Production
        x = 2
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_offensive_generals
            hidden_effect = {
                create_corps_commander = {
                    name="Serge Beauchêne"
                    # advisor={
                    # 	slot = high_command
                    # 	idea_token = courtney_hodges
                    # 	ledger = army 
                    # 	allowed = {
                    # 		original_tag  = USA
                    # 	}
                    # 	traits  = {
                    # 		army_commando_2 
                    # 	}
                    # 	cost = 100
                    # 	ai_will_do  = {
                    # 		factor  = 1.000
                    # 	}
                    # }
                    # portraits={
                    # 	army={
                    # 		small="GFX_idea_courtney_hodges"
                    # 	}
                    # 	army={
                    # 		large="gfx/leaders/USA/Portrait_USA_Cortney_Hodges.dds"
                    # 	}
                    # }
                        traits={ panzer_leader desert_fox brilliant_strategist trickster }
                        skill=3
                        attack_skill=4
                        defense_skill=3
                        planning_skill=3
                        logistics_skill=4
                        legacy_id=-1
            }
            }
            custom_effect_tooltip = general_serge_beauchene_tt
            every_army_leader = {
				add_attack = 1
			}
            # All and new generals gain +1 attack
            # New general:
                # • Armor officer
                # • desert fox
                # • brilliant strategist
                # • trickster
        }
    }

    focus = {
        id = VIC_Develop_Desert_Tracks
        icon = GFX_goal_JAP_reorganized_supply_networks
        prerequisite = { focus = VIC_Support_in_Africa }
        relative_position_id = VIC_Support_in_Africa
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_developed_desert_trucks
            # Less heat attrition
            # 15% speed
        }
    }

    focus = {
        id = VIC_Convoys_for_over_seas
        icon = GFX_goal_generic_navy_cruiser
        prerequisite = { focus = VIC_Develop_Desert_Tracks }
        relative_position_id = VIC_Develop_Desert_Tracks
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_equipment_to_stockpile = {
                type = convoy
                amount = 150
                producer = VIC
            }
            # Gain 150 convoys
        }
    }

    focus = {
        id = VIC_Prepare_for_the_Eastern_Front
        icon = GFX_ger_final_crusade
        mutually_exclusive = { focus = VIC_Support_in_Africa focus = VIC_Protect_the_Mainland }
        prerequisite = { focus = VIC_Ramp_up_the_Production }
        relative_position_id = VIC_Ramp_up_the_Production
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_logistics_generals
            hidden_effect = {
                create_corps_commander = {
                    name="Arnaude Archambault"
                    # advisor={
                    # 	slot = high_command
                    # 	idea_token = courtney_hodges
                    # 	ledger = army 
                    # 	allowed = {
                    # 		original_tag  = USA
                    # 	}
                    # 	traits  = {
                    # 		army_commando_2 
                    # 	}
                    # 	cost = 100
                    # 	ai_will_do  = {
                    # 		factor  = 1.000
                    # 	}
                    # }
                    # portraits={
                    # 	army={
                    # 		small="GFX_idea_courtney_hodges"
                    # 	}
                    # 	army={
                    # 		large="gfx/leaders/USA/Portrait_USA_Cortney_Hodges.dds"
                    # 	}
                    # }
                        traits={ panzer_leader winter_specialist ranger fortress_buster }
                        skill=3
                        attack_skill=3
                        defense_skill=3
                        planning_skill=3
                        logistics_skill=5
                        legacy_id=-1
            }
            }
            custom_effect_tooltip = general_arnaude_archambault_tt
            every_army_leader = {
				add_logistics = 1
			}
            # All and new generals gain +1 logistic
            # New general:
               # • Armor officer
               # • winter specialist
               # • ranger
               # • fortress buster
        }
    }

    focus = {
        id = VIC_Upgrade_tanks_for_Barb
        icon = GFX_focus_SOV_the_road_of_life
        prerequisite = { focus = VIC_Prepare_for_the_Eastern_Front }
        relative_position_id = VIC_Prepare_for_the_Eastern_Front
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_tanks_prepared_for_barb
            # Less cold attrition
            # -10% supply consumption
        }
    }

    focus = {
        id = VIC_Train_production
        icon = GFX_SOV_one_way_trip_to_hell
        prerequisite = { focus = VIC_Upgrade_tanks_for_Barb focus = VIC_Better_Protection }
        relative_position_id = VIC_Upgrade_tanks_for_Barb
        x = -1
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_equipment_to_stockpile = {
                type = train_equipment_1
                amount = 150
                producer = VIC
            }
            # add 30 trains
        }
    }

    focus = {
        id = VIC_Restoring_France
        icon = GFX_goal_generic_dangerous_deal
        mutually_exclusive = { focus = VIC_Accept_Axis_Claims }
        prerequisite = { focus = VIC_Establishing_Vichy }
        relative_position_id = VIC_Establishing_Vichy
        x = 2
        y = 1
        
        cost = 10
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_political_power  = 150
            # GER = {
            #     country_event = vichy.3
            # }
            # 100pp
            # unlocks decision to gain the rest of french states reducing independence from germany
        }
    }

    focus = {
        id = VIC_Beginning_of_Reunification
        icon = GFX_focus_chi_mission_to_germany
        prerequisite = { focus = VIC_Restoring_France }
        relative_position_id = VIC_Restoring_France
        x = 4
        y = 1
        
        cost = 10
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
            OR = {
                date > 1941.8.1
                GER = {
                    has_war_with = SOV
                }
            }
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            reduce_occupation_cost_effect = yes
            add_political_power = 100
            GER = {
				add_to_faction = ROOT
			}
            GER = {
                country_event = vichy.2
            }
            remove_ideas = neutrality_idea
            remove_ideas = neutrality_idea2
            hidden_effect = {
                every_country = {
                    limit = {
                        OR = {
                            tag = USA
                            tag = BRA
                            tag = MEX
                            tag = ENG
                            is_in_faction_with = ENG
                        }
                    }
                    news_event = vichy.4
                }
            }
            custom_effect_tooltip = vic_puppeted_by_ger_tt
            hidden_effect = {
                FRA = {
                    division_template = {
                        name = "African Infantry"
                        division_names_group = FRA_INF_01
                    
                        regiments = {
                            infantry = { x = 0 y = 0 }
                            infantry = { x = 0 y = 1 }
                            infantry = { x = 0 y = 2 }
                            infantry = { x = 0 y = 3 }
    
                            infantry = { x = 1 y = 0 }
                            infantry = { x = 1 y = 1 }
                            infantry = { x = 1 y = 2 }
                            infantry = { x = 1 y = 3 }
    
                            infantry = { x = 2 y = 0 }
                            infantry = { x = 2 y = 1 }
                            infantry = { x = 2 y = 2 }
    
                            artillery_brigade = { x = 3 y = 0 }
                            artillery_brigade = { x = 3 y = 1 }
                            artillery_brigade = { x = 3 y = 2 }
                            artillery_brigade = { x = 3 y = 3 }
    
                            artillery_brigade = { x = 4 y = 0 }
                            artillery_brigade = { x = 4 y = 1 }
                            artillery_brigade = { x = 4 y = 2 }
                            artillery_brigade = { x = 4 y = 3 }
                        }
                        support = {
                            hq_company = { x = 0 y = 0 } 
                            engineer = { x = 0 y = 1 }   
                            recon = { x = 0 y = 2 }
                            logistics_company_mot  = { x = 0 y = 3 }
                            anti_air = { x = 1 y = 0 }
                        }
                    }
                    779 = {
                        for_loop_effect = {
                            end = 15
                            create_unit = {
                                division = "name = \"African Infantry\" division_template = \"African Infantry\" start_experience_factor = 0.5"
                                owner = FRA
                            }
                        }
                    } 
                }
            }
            FRA = {
                custom_effect_tooltip = FRA_15_africa_spawn_in_tt
            }
            # 100pp
            # unlocks decision to gain some french states reducing independence from germany
        }
    }

    focus = {
        id = VIC_Reduce_Occupation
        icon = GFX_goal_generic_neutrality_focus
        prerequisite = { focus = VIC_Restoring_France }
        relative_position_id = VIC_Restoring_France
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            reduce_occupation_cost_effect = yes
            # Occupation cost -10% consumer goods
        }
    }

    focus = {
        id = VIC_Cave_to_the_Germans
        icon = GFX_goal_support_fascism
        prerequisite = { focus = VIC_Reduce_Occupation }
        relative_position_id = VIC_Reduce_Occupation
        x = 0
        y = 2
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            remove_occupation_cost_effect = yes
            # Remove occupations cost
        }
    }

    focus = {
        id = VIC_Rebuilding_France
        icon = GFX_goal_generic_production
        prerequisite = { focus = VIC_Cave_to_the_Germans }
        relative_position_id = VIC_Cave_to_the_Germans
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            785 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                    instant_build = yes
                }
            }
            17 = {
                add_building_construction = {
                    type = infrastructure
                    level = 3
                    instant_build = yes
                }
            }
            32 = {
                add_building_construction = {
                    type = infrastructure
                    level = 4
                    instant_build = yes
                }
            }
            22 = {
                add_building_construction = {
                    type = infrastructure
                    level = 4
                    instant_build = yes
                }
            }
            21 = {
                add_building_construction = {
                    type = infrastructure
                    level = 4
                    instant_build = yes
                }
            }
            add_ideas = VIC_rebuilding_france
            # 1 infra in every owned state
            # +10% infra construction speed
        }
    }

    focus = {
        id = VIC_Civilian_Infrastructure
        icon = GFX_goal_generic_construct_civilian
        prerequisite = { focus = VIC_Rebuilding_France }
        relative_position_id = VIC_Rebuilding_France
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
            add_ideas = VIC_civilian_infrastructure_construction
            # +4 civs
            # +10% civ construction speed
        }
    }

    focus = {
        id = VIC_Protect_the_French_People
        icon = GFX_focus_generic_coastal_fort
        prerequisite = { focus = VIC_Civilian_Infrastructure }
        relative_position_id = VIC_Civilian_Infrastructure
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_protect_the_french_people
            every_state = {
                limit = {
                    naval_base > 0
                    is_controlled_by = ROOT
                }
                add_building_construction  = {
                    type = coastal_bunker
                    province = {
                        all_provinces = yes
                        limit_to_naval_base = yes
                    }
                    level = 1
                    instant_build = yes
                }
            }
            # +1 coastal forts next to every port
            # +25% coastal fort construction speed
        }
    }

    focus = {
        id = VIC_Build_up_the_airfields
        icon = GFX_goal_generic_air_production
        prerequisite = { focus = VIC_Protect_the_French_People }
        prerequisite = { focus = VIC_Installing_Patriotism }
        relative_position_id = VIC_Protect_the_French_People
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            24 = {
				set_building_level = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
            23 = {
				set_building_level = {
					type = air_base
					level = 10
					instant_build = yes
				}
			}
            add_ideas = VIC_build_up_the_airfields
            # +2 airports in mainland france
            # +10% airport construction speed
        }
    }

    focus = {
        id = VIC_Rebuilding_the_Military
        icon = GFX_ITA_industrial_triangle
        prerequisite = { focus = VIC_Restoring_France }
        relative_position_id = VIC_Restoring_France
        x = 2
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            army_experience = 50
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
            #50 army XP
            # +4 mils
        }
    }

    focus = {
        id = VIC_Army_innovation
        icon = GFX_goal_generic_army_doctrines
        prerequisite = { focus = VIC_Rebuilding_the_Military }
        relative_position_id = VIC_Rebuilding_the_Military
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            army_experience = 35
            add_tech_bonus = {
				name = VIC_Army_innovation
				bonus = 1.00
				uses = 2
				category = support_tech
			}
            add_tech_bonus = {
				name = VIC_Army_innovation
				bonus = 1.00
				uses = 2
				category = infantry_weapons
			}
            # 35 army XP
            # 2x research bonus for inf eq
            # 2x research bonus for support companies
        }
    }

    focus = {
        id = VIC_Shift_the_Prduction
        icon = GFX_august
        prerequisite = { focus = VIC_Army_innovation }
        relative_position_id = VIC_Army_innovation
        x = 0
        y = 1
        
        cost = 10
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_shifted_production
            # 10% factory out put
            # -10% inf eq production cost
            # 30% tank production cost
        }
    }

    focus = {
        id = VIC_Join_the_Axis_Research
        icon = GFX_goal_generic_army_artillery2
        prerequisite = { focus = VIC_Shift_the_Prduction }
        prerequisite = { focus = VIC_Cave_to_the_Germans }
        relative_position_id = VIC_Shift_the_Prduction
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_to_tech_sharing_group = axis_research
            add_tech_bonus = {
				name = VIC_Join_the_Axis_Research
				bonus = 0.50
				uses = 2
				category = artillery
                category = heavy_artillery
			}
            # Join axis research program
            # 2x 50% research bonus arty
        }
    }

    focus = {
        id = VIC_Axis_Army_Academies
        icon = GFX_goal_generic_axis_build_infantry
        prerequisite = { focus = VIC_Join_the_Axis_Research }
        relative_position_id = VIC_Join_the_Axis_Research
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_axis_generals
            hidden_effect = {
                create_corps_commander = {
                    name="Élodie Deforest"
                    # advisor={
                    # 	slot = high_command
                    # 	idea_token = courtney_hodges
                    # 	ledger = army 
                    # 	allowed = {
                    # 		original_tag  = USA
                    # 	}
                    # 	traits  = {
                    # 		army_commando_2 
                    # 	}
                    # 	cost = 100
                    # 	ai_will_do  = {
                    # 		factor  = 1.000
                    # 	}
                    # }
                    # portraits={
                    # 	army={
                    # 		small="GFX_idea_courtney_hodges"
                    # 	}
                    # 	army={
                    # 		large="gfx/leaders/USA/Portrait_USA_Cortney_Hodges.dds"
                    # 	}
                    # }
                        traits={ infantry_leader trickster old_guard }
                        skill=4
                        attack_skill=6
                        defense_skill=4
                        planning_skill=6
                        logistics_skill=4
                        legacy_id=-1
            }
            create_corps_commander = {
                    name="Fernand Clément"
                    # advisor={
                    # 	slot = high_command
                    # 	idea_token = courtney_hodges
                    # 	ledger = army 
                    # 	allowed = {
                    # 		original_tag  = USA
                    # 	}
                    # 	traits  = {
                    # 		army_commando_2 
                    # 	}
                    # 	cost = 100
                    # 	ai_will_do  = {
                    # 		factor  = 1.000
                    # 	}
                    # }
                    # portraits={
                    # 	army={
                    # 		small="GFX_idea_courtney_hodges"
                    # 	}
                    # 	army={
                    # 		large="gfx/leaders/USA/Portrait_USA_Cortney_Hodges.dds"
                    # 	}
                    # }
                        traits={ infantry_leader war_hero inflexible_strategist old_guard trait_cautious organizer }
                        skill=4
                        attack_skill=7
                        defense_skill=5
                        planning_skill=4
                        logistics_skill=5
                        legacy_id=-1
            }
            }
            custom_effect_tooltip = general_elodie_deforest_tt
            custom_effect_tooltip = general_fernand_clement_tt
            every_army_leader = {
				add_defense = 1
                add_attack = 1
			}
            # All generals and new gain + 1 attack and defense
            # new general
               # • infantry leader
               # • trickster
               # • skilled staffer
               # • old guard
            # new general
               # • infantry leader
               # • war hero
               # • inflexible strategist
               # • old guard
               # • cautious
               # • organizer
        }
    }

    focus = {
        id = VIC_Installing_Patriotism
        icon = GFX_focus_generic_military_mission
        prerequisite = { focus = VIC_Axis_Army_Academies }
        relative_position_id = VIC_Axis_Army_Academies
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_war_support = 0.10
            add_ideas = VIC_installed_patriotism
            # 10% war support
            # 2% rec pop
        }
    }

    focus = {
        id = VIC_Protection_from_the_air_raids
        icon = GFX_goal_generic_air_bomber
        prerequisite = { focus = VIC_Installing_Patriotism }
        prerequisite = { focus = VIC_Protect_the_French_People}
        relative_position_id = VIC_Installing_Patriotism
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            every_state = {
				limit = {
					is_core_of = VIC
                    is_controlled_by = VIC
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
            add_ideas = VIC_protection_from_the_air_raids
            # +2 state aa in mainland france
            # +10% state aa construction speed
        }
    }

    focus = {
        id = VIC_Rebuilding_the_navy
        icon = GFX_goal_generic_construct_naval_dockyard
        prerequisite = { focus = VIC_Rebuilding_the_Military }
        relative_position_id = VIC_Rebuilding_the_Military
        x = 2
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            navy_experience = 50
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_coastal = yes
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_coastal = yes
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
            add_ideas = VIC_rebuilding_the_navy
            # 50 naval XP
            # +4 dockyards
            # +10% dockyard construction speed
        }
    }

    focus = {
        id = VIC_Fund_the_Navy
        icon = GFX_goal_generic_build_navy
        prerequisite = { focus = VIC_Rebuilding_the_navy }
        relative_position_id = VIC_Rebuilding_the_navy
        x = 0
        y = 1
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            swap_ideas = {
                remove_idea = VIC_rebuilding_the_navy
                add_idea = VIC_rebuilding_the_navy2
            }
            navy_experience = 50
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
                    is_coastal = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
            random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
                    is_coastal = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
            add_tech_bonus = {
				name = VIC_Fund_the_Navy
				bonus = 0.75
				uses = 2
				category = naval_equipment
			}
            # 50 naval XP
            # +4 dockyards
            # 10% dockyard output
            # 2x 75% research bonus for naval stuff
        }
    }

    focus = {
        id = VIC_Finish_Old_Ships
        icon = GFX_goal_generic_navy_battleship
        mutually_exclusive = { focus = VIC_Building_up_the_coastal_defence } 
        prerequisite = { focus = VIC_Fund_the_Navy }
        relative_position_id = VIC_Fund_the_Navy
        x = 0
        y = 5
        
        cost = 10
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            hidden_effect = {
                set_technology = {
                    improved_ship_hull_heavy = 1
                    basic_heavy_armor_scheme = 1
                    basic_battery = 1
                    basic_heavy_battery = 1
                    basic_heavy_shell = 1
                    improved_heavy_battery = 1
                    improved_heavy_shell = 1
                    advanced_heavy_battery = 1
                    damage_control_1 = 1
                    damage_control_2 = 1
                    damage_control_3 = 1
                    fire_control_methods_1 = 1
                    fire_control_methods_2 = 1
                    fire_control_methods_3 = 1
                    radio_detection = 1
                    decimetric_radar = 1
                    improved_decimetric_radar = 1
                    centimetric_radar = 1
                    basic_fire_control_system = 1
                    improved_fire_control_system = 1
                    advanced_fire_control_system = 1
                    antiair_research1 = 1
                    antiair2 = 1
                }
            }
            create_equipment_variant = {
                name = "Richelieu Class"
                type = ship_hull_heavy_3
                name_group = FRA_BB_HISTORICAL
                parent_version = 0
                modules = {
                    fixed_ship_battery_slot = ship_heavy_battery_4
			        fixed_ship_anti_air_slot = ship_anti_air_3
			        fixed_ship_fire_control_system_slot = ship_fire_control_system_3
			        fixed_ship_radar_slot = ship_radar_3
			        fixed_ship_engine_slot = heavy_ship_engine_3
			        fixed_ship_secondaries_slot = dp_ship_secondaries_3
			        fixed_ship_armor_slot = ship_armor_bc_1
			        front_1_custom_slot = ship_heavy_battery_4
			        mid_1_custom_slot = ship_secondaries_2
			        mid_2_custom_slot = ship_secondaries_2
			        mid_3_custom_slot = ship_secondaries_2
			        rear_1_custom_slot = ship_heavy_battery_4
                }
                obsolete = no
            }

			#Line Production
			add_equipment_production = {
				equipment = {
					type = ship_hull_heavy_3
					creator = "VIC"
					version_name = "Richelieu Class"
				}
				# name = "Dunkerque"
				requested_factories = 5
				progress = 0.90
				amount = 1
			}
            add_equipment_production = {
				equipment = {
					type = ship_hull_heavy_3
					creator = "VIC"
					version_name = "Richelieu Class"
				}
				# name = "Dunkerque"
				requested_factories = 5
				progress = 0.90
				amount = 1
			}
            # Gain a portion of the french navy if not blown up
        }
    }

    focus = {
        id = VIC_Defend_Core_Land
        icon = GFX_goal_generic_defence
        prerequisite = { focus = VIC_Finish_Old_Ships focus = VIC_Building_up_the_coastal_defence }
        prerequisite = { focus = VIC_Build_up_the_airfields }
        prerequisite = { focus = VIC_Protection_from_the_air_raids }
        relative_position_id = VIC_Build_up_the_airfields
        x = 1
        y = 2
        
        cost = 5
    
        ai_will_do = {
            factor = 1
        }
        
        available = {
    
        }
        
        bypass = {
    
        }
        cancel_if_invalid = yes
        continue_if_invalid = no
        available_if_capitulated = no
    
        completion_reward = {
            add_ideas = VIC_defend_core_land
            # 5% Defense bonus on core
        }
    }

}
