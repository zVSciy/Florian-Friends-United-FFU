#!gfx:interface\lw_goals.gfx
#!gfx:interface\KR_goals.gfx
#!gfx:interface\cic_goals.gfx
#!gfx:interface\snek_teleport.gfx
#!gfx:interface\replace\bruh_interface.gfx
#!gfx:interface\replace\bruh_bra_interface.gfx
#!gfx:interface\replace\bruh_eng_interface.gfx
#!gfx:interface\replace\bruh_ger_interface.gfx
#!gfx:interface\replace\bruh_hol_interface.gfx
#!gfx:interface\replace\bruh_ita_interface.gfx
#!gfx:interface\replace\bruh_jap_interface.gfx
#!gfx:interface\replace\bruh_nsb_interface.gfx
#!gfx:interface\replace\bruh_sov_interface.gfx

### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_SPR_CIVIL_WAR}
### search_filters = {FOCUS_FILTER_SPR_CARLIST_UPRISING}
### search_filters = {FOCUS_FILTER_SPR_ANARCHIST_UPRISING} 

focus_tree = {
	id = SPRnish_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SPR
			has_dlc = "La Resistance"
		}
	}

	default = no

	continuous_focus_position = { x = 1400 y = 3000 }

#  #  ##  ### ###  ##  #  #  ##  #   ###  ## ###     ###  #  # ### #   ###     #  # ###  
## # #  #  #   #  #  # ## # #  # #    #  #    #      #  # #  #  #  #   #  #    #  # #  # 
# ## ####  #   #  #  # # ## #### #    #   #   #      ###  #  #  #  #   #  # ## #  # ###  
#  # #  #  #   #  #  # #  # #  # #    #    #  #      #  # #  #  #  #   #  #    #  # #    
#  # #  #  #  ###  ##  #  # #  # ### ### ##   #      ###   ##  ### ### ###      ##  #    

focus = {
	id = SPR_a_great_SPRin

	available = {
		NOT = {
			has_country_flag = SPR_SPRnish_elections_flag
		}
	}
	cancel_if_invalid = yes
	
	bypass = {
		has_global_flag = SPRnish_civil_war
	}
	#mutually_exclusive = { focus = SPR_the_popular_front }
	
	icon = GFX_goal_generic_demand_territory
	x = 14
	y = 0
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = fascism
			popularity = 0.1
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		#hidden_effect = {activate_mission = SPR_military_plot_nationalists}
	}
}

focus = {
	id = SPR_hand_over_the_ceda_campaign_chest
	available = {
	}
	bypass = {
		has_global_flag = SPRnish_civil_war
	}
	prerequisite = { focus = SPR_a_great_SPRin }
	
	icon = GFX_focus_generic_concessions
	x = 0
	y = 1
	# offset = {
	# 	x = 15
	# 	y = 0
	# }
	relative_position_id = SPR_a_great_SPRin
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_political_power = 200
	}
}

focus = {
	id = SPR_the_army_of_africa
	available = {
	}
	bypass = {
		has_global_flag = SPRnish_civil_war
	}
	prerequisite = { focus = SPR_hand_over_the_ceda_campaign_chest }
	
	icon = GFX_goal_generic_special_forces
	x = 0
	y = 1
	relative_position_id = SPR_hand_over_the_ceda_campaign_chest
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_SPR_CIVIL_WAR}
	completion_reward = {
		army_experience = 10
		custom_effect_tooltip = SPR_the_army_of_africa_tt
	}
}

focus = {
	id = SPR_con_paquito
	available = {
	}
	bypass = {
		has_global_flag = SPRnish_civil_war
	}
	prerequisite = { focus = SPR_the_army_of_africa }
	
	icon = GFX_goal_generic_dangerous_deal
	x = 0
	y = 1
	relative_position_id = SPR_the_army_of_africa
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPR_CIVIL_WAR}
	completion_reward = {
		custom_effect_tooltip = SPR_con_paquito_tt
	}
}

focus = {
	id = SPR_unify_the_nationalist
	available = {
	}
	bypass = {
		has_global_flag = SPRnish_civil_war
	}
	prerequisite = { focus = SPR_con_paquito }
	
	icon = GFX_goal_generic_dangerous_deal
	x = 2
	y = 1
	relative_position_id = SPR_con_paquito
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPR_CIVIL_WAR}
	completion_reward = {
		custom_effect_tooltip = SPR_con_paquito_tt
	}
}

focus = {
	id = SPR_caudillo_of_SPRin
	available = {
	}
	bypass = {
	}
	prerequisite = { focus = SPR_con_paquito }
	
	icon = GFX_focus_SPR_caudillo_of_SPRin
	x = -2
	y = 1
	relative_position_id = SPR_con_paquito
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY}
	completion_reward = {
		add_stability = 0.05
		hidden_effect = {
			kill_country_leader = yes
			kill_ideology_leader = fascism
		}
		add_country_leader_role = {
			character = "SPR_francisco_franco"
			country_leader = {
			  ideology=despotism
			  traits = { caudillo_1 }
			  expire="1965.1.1"
			}
			promote_leader = yes
		}
		add_country_leader_role = {
			character = "SPR_francisco_franco"
			country_leader = {
			  ideology=fascism_ideology
			  traits = { caudillo_1 }
			  expire="1965.1.1"
			}
			promote_leader = yes
		}
	}
}

focus = {
	id = SPR_national_recovery
	available = {
		has_global_flag = scw_over
	}
	bypass = {
	}
	prerequisite = { focus = SPR_caudillo_of_SPRin }
	
	icon = GFX_goal_generic_consumer_goods
	x = -7
	y = 1
	relative_position_id = SPR_caudillo_of_SPRin
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_INDUSTRY}
	complete_tooltip = {
		every_state = {
			limit	= {	has_state_flag = SPR_national_recovery_2civ }
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
	completion_reward = {
		add_timed_idea = { idea = SPR_national_recovery_1 days = 1000 }
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = industrial_complex
					size > 1
				}
				is_core_of = ROOT
			}
			set_state_flag = SPR_national_recovery_2civ
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
}

focus = {
	id = SPR_banish_the_party_leaders
	available = {
	}
	bypass = {
		has_global_flag = SPR_carlist_uprising_flag
	}
	prerequisite = { focus = SPR_caudillo_of_SPRin }
	prerequisite = { focus = SPR_unify_the_nationalist }
	
	icon = GFX_focus_generic_support_the_left_right
	x = 2
	y = 1
	relative_position_id = SPR_caudillo_of_SPRin
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPR_CARLIST_UPRISING}
	completion_reward = {
		add_political_power = 200
		# custom_effect_tooltip = remove_political_advisor
		# show_ideas_tooltip = SPR_manuel_hedilla
		# custom_effect_tooltip = available_political_advisor
		# show_ideas_tooltip = SPR_raimundo_fernandez_cuesta
	}
}
focus = {
	id = SPR_the_national_and_popular_army_of_SPRin
	available = {
		has_global_flag = scw_over
	}
	bypass = {
	}
	prerequisite = { focus = SPR_unify_the_nationalist }
	
	icon = GFX_goal_generic_army_doctrines
	x = 7
	y = 1
	relative_position_id = SPR_unify_the_nationalist
	cost = 5

	available_if_capitulated = yes
	complete_tooltip = {
		every_state = {
			limit	= {	has_state_flag = SPR_the_national_and_popular_army_of_SPRin_2mil }
			add_extra_state_shared_building_slots = 5
			add_building_construction = {
				type = arms_factory
				level = 5
				instant_build = yes
			}
		}
	}
	search_filters = {FOCUS_FILTER_INDUSTRY}
	completion_reward = {
		army_experience = 10
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 1
				}
				is_core_of = ROOT
			}
			set_state_flag = SPR_the_national_and_popular_army_of_SPRin_2mil
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
	}
}

focus = {
	id = SPR_foment_a_carlist_split
	available = {
	}
	bypass = {
		has_global_flag = SPR_carlist_uprising_flag
	}
	prerequisite = { focus = SPR_banish_the_party_leaders }
	
	icon = GFX_goal_generic_military_deal
	x = 0
	y = 1
	relative_position_id = SPR_banish_the_party_leaders
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_SPR_CARLIST_UPRISING}
	completion_reward = {
		swap_ideas = {
			remove_idea = SPR_carlism_1
			add_idea = SPR_carlism_2
		}
	}
}

focus = {
	id = SPR_fuse_the_parties
	available = {
	}
	bypass = {
		has_global_flag = SPR_carlist_uprising_flag
	}
	prerequisite = {focus = SPR_foment_a_carlist_split }
	
	
	icon = GFX_focus_SPR_fuse_the_parties
	x = -2
	y = 1
	relative_position_id = SPR_foment_a_carlist_split
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_MANPOWER}
	completion_reward = {
		set_party_name = { ideology = fascism long_name = SPR_fascism_francoist_party_long name = SPR_fascism_francoist_party }
		set_party_name = { ideology = neutrality long_name = SPR_fascism_francoist_party_long name = SPR_fascism_francoist_party }
		swap_ideas = {
			remove_idea = SPR_carlism_2
			add_idea = SPR_carlism_5
		}
	}
}

focus = {
	id = SPR_keep_the_parties_splited
	available = {
	}
	bypass = {
		has_global_flag = SPR_carlist_uprising_flag
	}
	prerequisite = {focus = SPR_foment_a_carlist_split }
	
	
	icon = GFX_focus_SPR_fuse_the_parties
	x = 2
	y = 1
	relative_position_id = SPR_foment_a_carlist_split
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_MANPOWER}
	completion_reward = {
		set_party_name = { ideology = fascism long_name = SPR_fascism_francoist_party_long name = SPR_fascism_francoist_party }
		set_party_name = { ideology = neutrality long_name = SPR_fascism_francoist_party_long name = SPR_fascism_francoist_party }
		swap_ideas = {
			remove_idea = SPR_carlism_2
			add_idea = SPR_carlism_5
		}
	}
}


focus = {
	id = SPR_safeguard_the_freedom_of_worship
	available = {
	}
	bypass = {
	}
	prerequisite = { focus = SPR_fuse_the_parties focus = SPR_keep_the_parties_splited }
	
	
	icon = GFX_focus_generic_strike_at_democracy1
	x = 2
	y = 2
	relative_position_id = SPR_fuse_the_parties
	cost = 5
	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = 60
	}
}

focus = {
	id = SPR_extol_the_martyrs_of_the_war
	available = {
	}
	bypass = {
	}
	prerequisite = { focus = SPR_safeguard_the_freedom_of_worship }
	
	
	icon = GFX_goal_generic_propaganda
	x = 0
	y = 1
	relative_position_id = SPR_safeguard_the_freedom_of_worship
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_SPR_CARLIST_UPRISING}
	completion_reward = {
		add_war_support = 0.1
	}
}

focus = {
	id = SPR_martyrdom_for_primo_de_rivera
	available = {
	}
	bypass = {
		has_global_flag = scw_over
	}
	prerequisite = { focus = SPR_extol_the_martyrs_of_the_war }
	
	icon = GFX_goal_generic_secret_weapon
	x = 0
	y = 1
	relative_position_id = SPR_extol_the_martyrs_of_the_war
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_war_support = 0.1
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
	}
}


focus = {
	id = SPR_save_the_alcazar
	available = {
	}
	bypass = {
		OR = {
			controls_province = 858
			has_global_flag = scw_over
		}
	}
	prerequisite = { focus = SPR_national_autarky focus= SPR_look_for_allies }
	
	icon = GFX_focus_SPR_save_the_alcazar
	x = -1
	y = 1
	relative_position_id =  SPR_national_autarky
	cost = 5

	available_if_capitulated = yes

	completion_reward = {
		activate_mission = SPR_save_the_alcazar_mission
		custom_effect_tooltip = SPR_save_the_alcazar_mission_tt
	}
}



focus = {
	id = SPR_look_for_fascist_representation
	available = {
	}
	bypass = {
	}
	prerequisite = { focus = SPR_fuse_the_parties }
	mutually_exclusive = {
		focus = SPR_elect_a_king
	}
	
	
	icon = GFX_focus_generic_strike_at_democracy1
	x = -2
	y = 1
	relative_position_id = SPR_fuse_the_parties
	cost = 5
	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = fascist
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = 60
	}
}

focus = {
	id = SPR_appoint_italian_army_advisors
	available = {
	}
	bypass = {
	}
	prerequisite = { focus = SPR_fuse_the_parties }
	
	
	icon = GFX_focus_generic_strike_at_democracy1
	x = 0
	y = 1
	relative_position_id = SPR_look_for_fascist_representation
	cost = 5
	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = fascist
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = 60
	}
}

focus = {
	id = SPR_national_autarky
	available = {
	}
	bypass = {
	}
	prerequisite = { focus = SPR_appoint_italian_army_advisors }
	
	
	icon = GFX_focus_generic_strike_at_democracy1
	x = 1
	y = 1
	relative_position_id = SPR_appoint_italian_army_advisors 
	cost = 5
	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = fascist
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = 60
	}
}

focus = {
	id = SPR_look_for_allies
	available = {
	}
	bypass = {
	}
	prerequisite = { focus =  SPR_appoint_italian_army_advisors}
	mutually_exclusive = {
		focus = SPR_national_autarky
	}
	
	
	icon = GFX_focus_generic_strike_at_democracy1
	x = -1
	y = 1
	relative_position_id = SPR_appoint_italian_army_advisors
	cost = 5
	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = fascist
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = 60
	}
}


focus = {
	id = SPR_elect_a_king
	available = {
	}
	bypass = {
	}
	prerequisite = {  focus = SPR_keep_the_parties_splited }
	
	
	icon = GFX_focus_generic_strike_at_democracy1
	x = 6
	y = 1
	relative_position_id = SPR_fuse_the_parties
	cost = 5
	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = 60
	}
}

focus = {
	id = SPR_approch_the_uk
	available = {
	}
	bypass = {
	}
	prerequisite = {  focus = SPR_elect_a_king }
	
	
	icon = GFX_focus_generic_strike_at_democracy1
	x = 1
	y = 1
	relative_position_id = SPR_elect_a_king
	cost = 5
	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = 60
	}
}
	

focus = {
	id = SPR_approch_the_german_reich
	available = {
	}
	bypass = {
	}
	prerequisite = {  focus = SPR_elect_a_king }
	mutually_exclusive = {
		focus = SPR_approch_the_uk
	}
	
	
	icon = GFX_focus_generic_strike_at_democracy1
	x = -1
	y = 1
	relative_position_id = SPR_elect_a_king
	cost = 5
	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = 60
	}
}

focus = {
	id = SPR_appoint_fascist_advisors
	available = {
	}
	bypass = {
	}
	prerequisite = {  focus = SPR_approch_the_uk focus = SPR_approch_the_german_reich }
	
	
	icon = GFX_focus_generic_strike_at_democracy1
	x = -1
	y = 1
	relative_position_id = SPR_approch_the_uk
	cost = 5
	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = 60
	}
}

focus = {
	id = SPR_crown_by_the_pope
	available = {
	}
	bypass = {
	}
	prerequisite = {  focus = SPR_appoint_fascist_advisors }
	
	
	icon = GFX_focus_generic_strike_at_democracy1
	x = 0
	y = 1
	relative_position_id = SPR_appoint_fascist_advisors
	cost = 5
	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL}
	completion_reward = {
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_stability = 0.1
		add_political_power = 60
	}
}


focus = {
	id = SPR_abandon_neutrality
	icon = GFX_focus_renounce_the_treaty_of_trianon
	available = {
		custom_trigger_tooltip = {
			tooltip = SPR_has_not_national_recovery_tt
			NOT = { has_idea = SPR_national_recovery_1 }			
			NOT = { has_idea = SPR_national_recovery_2 }			
			NOT = { has_idea = SPR_national_recovery_3 }			
			NOT = { has_idea = SPR_national_recovery_4 }			
			NOT = { has_idea = SPR_national_recovery_5 }			
			NOT = { has_idea = SPR_national_recovery_6 }			
			NOT = { has_idea = SPR_national_recovery_7 }				
		}
	}
	prerequisite = { focus = SPR_save_the_alcazar focus = SPR_crown_by_the_pope }
	prerequisite = {
		focus = SPR_martyrdom_for_primo_de_rivera
	}
	mutually_exclusive = { focus = SPR_maintain_neutrality }
	x = -1
	y = 1
	relative_position_id = SPR_martyrdom_for_primo_de_rivera
	cost = 5
	ai_will_do = {
		factor = 1
	}
	
	completion_reward = {
		custom_effect_tooltip = "Going down this path will remilitarize your country"
		set_global_flag = SPRin_joined
		# remove_ideas = AFRICA_COMMONWEALTH_controls_axis_original
		if = {
			limit = {
				NOT = {
					has_global_flag = sotm_barb_ended
				}
			}
			if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_1 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_1 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_2 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_2 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_3 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_3 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_4 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_4 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_5 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_5 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_6 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_6 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_7 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_7 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_8 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_8 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_9 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_9 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_10 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_10 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_11 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_11 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_12 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_12 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_13 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_13 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_14 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_14 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_15 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_15 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_16 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_16 }
			else_if = { limit = { GER = { has_idea = AFRICA_COMMONWEALTH_controls_axis_idea_17 } } add_ideas = AFRICA_COMMONWEALTH_controls_axis_idea_17 }
			else = {log = "Couldn't set the AFRICA bases - axis"}
		}
		remove_ideas = SPR_neutrality_idea
		add_war_support = -0.20
		add_stability = -0.1
	}
}

focus = {
	id = SPR_formalize_axis_entry
	available = {
	}
	prerequisite = { focus = SPR_abandon_neutrality }
	
	icon = GFX_goal_generic_dangerous_deal
	x = 0
	y = 1
	relative_position_id = SPR_abandon_neutrality
	cost = 5

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_SPR_CIVIL_WAR}
	completion_reward = {
		GER = {
			add_to_faction = ROOT
		}
		add_ideas = SPR_axis_coop
		hidden_effect = {
			FRA = {
				division_template = {
					name = "African Infantry"
					division_names_group = FRA_INF_01
				
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 0 y = 3 }

						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 1 y = 3 }

						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }

						artillery_brigade = { x = 3 y = 0 }
						artillery_brigade = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
						artillery_brigade = { x = 3 y = 3 }

						artillery_brigade = { x = 4 y = 0 }
						artillery_brigade = { x = 4 y = 1 }
						artillery_brigade = { x = 4 y = 2 }
						artillery_brigade = { x = 4 y = 3 }
					}
					support = {
						hq_company = { x = 0 y = 0 } 
						engineer = { x = 0 y = 1 }   
						recon = { x = 0 y = 2 }
						logistics_company_mot  = { x = 0 y = 3 }
						anti_air = { x = 1 y = 0 }
					}
				}
				779 = {
					for_loop_effect = {
						end = 15
						create_unit = {
							division = "name = \"African Infantry\" division_template = \"African Infantry\" start_experience_factor = 0.5"
							owner = FRA
						}
					}
				} 
			}
		}
		FRA = {
			custom_effect_tooltip = FRA_15_africa_SPRwn_in_tt
		}
	}
}

focus = {
	id = SPR_unite_iberia
	icon = GFX_focus_generic_attack_portugal
	prerequisite = { focus = SPR_formalize_axis_entry }
	x = 0
	y = 1
	relative_position_id = SPR_formalize_axis_entry
	cost = 5
	ai_will_do = {
		factor = 1
	}
	
	completion_reward = {
		add_ideas = SPR_axis_economy_boost
		add_collaboration = {
			target = POR
			value = 0.8
		}
		create_wargoal = {
			type = puppet_wargoal_focus
			target = POR
		}
		POR = {
			remove_ideas = SPR_neutrality_idea
		}
		every_state = {
			limit = {
				OR = {
					state = 112
					state = 179
					state = 180
					state = 181
					state = 795
				}
			}
			add_dynamic_modifier = { modifier = non_autonomous_state }
		}
		add_timed_idea = {idea = SPR_subjugate_por days = 720}
	}
}

focus = {
	id = SPR_maintain_neutrality
	icon = GFX_goal_generic_neutrality_focus
	prerequisite = { focus = SPR_save_the_alcazar focus = SPR_crown_by_the_pope }
	prerequisite = {
		focus = SPR_martyrdom_for_primo_de_rivera
	}
	mutually_exclusive = { focus = SPR_abandon_neutrality }
	x = 1
	y = 1
	relative_position_id = SPR_martyrdom_for_primo_de_rivera
	cost = 5
	ai_will_do = {
		factor = 1
	}
	
	completion_reward = {
		add_political_power = 100
		# set_rule = { can_send_volunteers = yes }
		# every_owned_state = {
		# 	limit = {
		# 		OR = {
		# 			state = 165
		# 			state = 171
		# 			state = 792
		# 		}
		# 	}
		# 	remove_dynamic_modifier = { modifier = autonomous_state }
		# }
	}
}

focus = {
	id = SPR_la_division_azul
	available = {
	}
	bypass = {
	}
	prerequisite = { focus = SPR_maintain_neutrality }
	
	icon = GFX_goal_rhineland
	x = 0
	y = 1
	relative_position_id = SPR_maintain_neutrality
	cost = 5

	available_if_capitulated = yes

	completion_reward = {
		
		add_ideas = SPR_la_division_azul
		custom_effect_tooltip = "The SPRnish Fleet will be disbanded"
		hidden_effect = {
			transfer_navy = {
				target = VEN
			}
		}
		add_equipment_to_stockpile = {
			type = convoy_1
			amount = 150
		}
		every_owned_state = {
			set_building_level = {
				type = naval_base
				level = 0
				province = {
					all_provinces = yes
					limit_to_coastal = yes
				}
			}
		}
		every_owned_state = {
			set_building_level = {
				type = dockyard
				level = 0
			}
		}
		every_owned_state = {
			set_building_level = {
				type = anti_air_building
				level = 5
			}
		}
		every_owned_state = {
			set_building_level = {
				type = air_base
				level = 1
			}
		}
		every_owned_state = {
			damage_building = {
				type = air_base
				damage = 1
			}
		}
		every_owned_state = {
			set_building_level = {
				type = naval_base
				level = 0
				province = {
					all_provinces = yes
					limit_to_coastal = yes
				}
			}
		}
		custom_effect_tooltip = "All Airports will get destroyed and damaged weekly"
		swap_ideas = {
			remove_idea = SPR_neutrality_idea
			add_idea = SPR_neutrality_idea_2
		}
	}
}



focus = {
	id = SPR_iberian_pact
	icon = GFX_focus_generic_befriend_portugal
	prerequisite = { focus = SPR_la_division_azul }
	x = 0
	y = 1
	relative_position_id = SPR_la_division_azul
	cost = 5
	ai_will_do = {
		factor = 1
	}
	
	completion_reward = {
		POR = {
			give_resource_rights = { receiver = SPR state = 181 }
			give_resource_rights = { receiver = SPR state = 112 }
			give_resource_rights = { receiver = SPR state = 795 }
		}
	}
}

focus = {
	id = SPR_expand_conscription
	available = {
	}
	bypass = {
	}
	prerequisite = { focus = SPR_extol_the_martyrs_of_the_war }
	
	icon = GFX_goal_generic_axis_build_infantry
	x = -3
	y = 1
	relative_position_id = SPR_extol_the_martyrs_of_the_war
	cost = 10

	allow_branch = {
		always = no
	}

	available_if_capitulated = yes
	search_filters = {FOCUS_FILTER_MANPOWER}
	completion_reward = {
		add_ideas = SPR_expand_conscription
	}
}




focus = {
		id = SPR_improve_the_road_system

		prerequisite = { focus = SPR_national_recovery }
		icon = GFX_goal_generic_construction
		relative_position_id = SPR_national_recovery
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 200
		}
		available = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			swap_ideas = {
				remove_idea = SPR_national_industry_01
				add_idea = SPR_national_industry_011
			}
		}
	}

	focus = {
		id = SPR_trust_in_ricardo

		prerequisite = { focus = SPR_improve_the_road_system }
		icon = GFX_goal_generic_intelligence_exchange
		relative_position_id = SPR_improve_the_road_system
		x = -1
		y = 1
		cost = 5
		mutually_exclusive = { focus = SPR_invigorate_national_industry }
		ai_will_do = {
			factor = 200
		}
		available = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		completion_reward = {
			add_offsite_building = { type = industrial_complex level = 2 }
			add_ideas = SPR_tobacco_exports_00
		}
	}

	focus = {
		id = SPR_invigorate_national_industry

		prerequisite = { focus = SPR_improve_the_road_system }
		icon = GFX_focus_generic_industry_1
		relative_position_id = SPR_improve_the_road_system
		x = 1
		y = 1
		cost = 5
		mutually_exclusive = { focus = SPR_trust_in_ricardo }
		ai_will_do = {
			factor = 200
		}
		available = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			add_political_power = 100
			swap_ideas = {
				remove_idea = SPR_national_industry_011
				add_idea = SPR_national_industry_02
			}
		}
	}

	focus = {
		id = SPR_expand_the_tobacco_industry

		prerequisite = { focus = SPR_trust_in_ricardo }
		icon = GFX_goal_generic_construct_civ_factory
		relative_position_id = SPR_trust_in_ricardo
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			factor = 200
		}
		available = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					212 = {
						is_owned_by = SPR
					}
				}
				212 = { #PLOVDIV
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			swap_ideas = {
				remove_idea = SPR_tobacco_exports_00
				add_idea = SPR_tobacco_exports_01
			}
		}
	}

	focus = {
		id = SPR_break_the_monopolies

		prerequisite = { focus = SPR_expand_the_tobacco_industry }
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		relative_position_id = SPR_expand_the_tobacco_industry
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			factor = 200
		}
		available = {
			# NOT = { has_government = democratic }
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			if = {
				limit = {
					48 = {
						is_owned_by = SPR
					}
				}
				48 = { #SOFIA
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			swap_ideas = {
				remove_idea = SPR_tobacco_exports_01
				add_idea = SPR_tobacco_exports_02
			}
		}
	}

	focus = {
		id = SPR_increased_industry_investments

		prerequisite = { focus = SPR_invigorate_national_industry }
		icon = GFX_focus_generic_industry_2
		relative_position_id = SPR_invigorate_national_industry
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			factor = 200
		}

		available = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			swap_ideas = {
				remove_idea = SPR_national_industry_02
				add_idea = SPR_national_industry_03
			}
		}
	}

	focus = {
		id = SPR_develop_the_industrial_giants

		prerequisite = { focus = SPR_increased_industry_investments }
		icon = GFX_focus_generic_industry_3
		relative_position_id = SPR_increased_industry_investments
		x = 0
		y = 1
		cost = 5

		available = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			swap_ideas = {
				remove_idea = SPR_national_industry_03
				add_idea = SPR_national_industry_04
			}
		}
	}

	# focus = {
	# 	id = SPR_industrial_expansion
	# 	icon = GFX_goal_generic_construct_civ_factory
	# 	prerequisite = { focus = SPR_improve_the_road_system }
	# 	x = -1
	# 	y = 5
	# 	relative_position_id = SPR_improve_the_road_system

	# 	cost = 5

	# 	ai_will_do = {
	# 		factor = 27
	# 	}

	# 	completion_reward = {
	# 		random_owned_controlled_state = {
	# 			limit = {
	# 				free_building_slots = {
	# 					building = industrial_complex
	# 					size > 3
	# 					include_locked = yes
	# 				}
	# 			}
	# 			add_extra_state_shared_building_slots = 4
	# 			add_building_construction = {
	# 				type = industrial_complex
	# 				level = 4
	# 				instant_build = yes
	# 			}
	# 		}
	# 	}
	# }

	# focus = {
	# 	id = SPR_economic_boom
	# 	icon = GFX_focus_generic_industry_3
	# 	prerequisite = { focus = SPR_industrial_expansion }
	# 	x = 0
	# 	y = 1
	# 	relative_position_id = SPR_industrial_expansion

	# 	cost = 5

	# 	ai_will_do = {
	# 		factor = 27
	# 	}

	# 	completion_reward = {
	# 		random_owned_controlled_state = {
	# 			limit = {
	# 				free_building_slots = {
	# 					building = industrial_complex
	# 					size > 3
	# 					include_locked = yes
	# 				}
	# 			}
	# 			add_extra_state_shared_building_slots = 4
	# 			add_building_construction = {
	# 				type = industrial_complex
	# 				level = 4
	# 				instant_build = yes
	# 			}
	# 		}
	# 	}
	# }

	# focus = {
	# 	id = SPR_agricultural_development
	# 	icon = GFX_goal_generic_construct_civilian
	# 	prerequisite = { focus = SPR_improve_the_road_system }
	# 	x = 1
	# 	y = 5
	# 	relative_position_id = SPR_improve_the_road_system

	# 	cost = 5

	# 	ai_will_do = {
	# 		factor = 27
	# 	}

	# 	completion_reward = {
	# 		random_owned_controlled_state = {
	# 			limit = {
	# 				free_building_slots = {
	# 					building = industrial_complex
	# 					size > 3
	# 					include_locked = yes
	# 				}
	# 			}
	# 			add_extra_state_shared_building_slots = 4
	# 			add_building_construction = {
	# 				type = industrial_complex
	# 				level = 4
	# 				instant_build = yes
	# 			}
	# 		}
	# 	}
	# }

	# focus = {
	# 	id = SPR_farming_modernisation
	# 	icon = GFX_focus_generic_self_management
	# 	prerequisite = { focus = SPR_agricultural_development }
	# 	x = 0
	# 	y = 1
	# 	relative_position_id = SPR_agricultural_development

	# 	cost = 5

	# 	ai_will_do = {
	# 		factor = 27
	# 	}

	# 	completion_reward = {
	# 		random_owned_controlled_state = {
	# 			limit = {
	# 				free_building_slots = {
	# 					building = industrial_complex
	# 					size > 3
	# 					include_locked = yes
	# 				}
	# 			}
	# 			add_extra_state_shared_building_slots = 4
	# 			add_building_construction = {
	# 				type = industrial_complex
	# 				level = 4
	# 				instant_build = yes
	# 			}
	# 		}
	# 	}
	# }

	focus = {
		id = SPR_national_railway_lines

		prerequisite = { focus = SPR_break_the_monopolies focus = SPR_develop_the_industrial_giants }
		icon = GFX_goal_generic_construct_infrastructure
		relative_position_id = SPR_develop_the_industrial_giants
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 200
		}
		available = {

		}

		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			every_owned_state = {
				limit = {
					is_core_of = SPR
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SPR_heavy_industry_investments
		icon = GFX_focus_generic_steel
		prerequisite = { focus = SPR_break_the_monopolies focus = SPR_develop_the_industrial_giants }
		prerequisite = { }
		x = 1
		y = 1
		relative_position_id = SPR_break_the_monopolies

		cost = 5

		ai_will_do = {
			factor = 27
		}

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = SPR_synthetic_industry_AF3
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = steel_refinery
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = SPR_synthetic_industry_AF4
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = SPR_synthetic_industry_AF1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = SPR_synthetic_industry_AF2
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				# limit = {
				# 	free_building_slots = {
				# 		building = steel_refinery
				# 		size > 1
				# 		include_locked = yes
				# 	}
				# }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = steel_refinery
					level = 2
					instant_build = yes
				}
				set_state_flag = SPR_synthetic_industry_AF3
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SPR_synthetic_industry_AF4
			}
			random_owned_controlled_state = {
				prioritize = { 48 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
				set_state_flag = SPR_synthetic_industry_AF1
			}
			random_owned_controlled_state = {
				prioritize = { 212 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
				set_state_flag = SPR_synthetic_industry_AF2
			}
		}
	}



	focus = {
		id = SPR_research_teams
		icon = GFX_focus_research
		prerequisite = { focus = SPR_break_the_monopolies focus = SPR_develop_the_industrial_giants }
		x = -1
		y = 1
		relative_position_id = SPR_break_the_monopolies

		cost = 5

		ai_will_do = {
			factor = 27
		}

		completion_reward = {
			add_research_slot = 1
		}
	}


	focus = {
		id = SPR_national_defence 
		icon = GFX_focus_research
		prerequisite = { }
		x = -1
		y = 1
		relative_position_id = SPR_heavy_industry_investments

		cost = 5

		ai_will_do = {
			factor = 27
		}

		completion_reward = {
			add_research_slot = 1
		}
	}


	focus = {
		id = SPR_national_offense
		icon = GFX_focus_research
		prerequisite = { }
		x = 1
		y = 1
		relative_position_id = SPR_heavy_industry_investments

		cost = 5

		ai_will_do = {
			factor = 27
		}

		completion_reward = {
			add_research_slot = 1
		}
	}


	focus = {
		id = SPR_the_golden_age
		icon = GFX_focus_research
		prerequisite = { }
		x = 0
		y = 3
		relative_position_id = SPR_heavy_industry_investments

		cost = 5

		ai_will_do = {
			factor = 27
		}

		completion_reward = {
			add_research_slot = 1
		}
	}

	


}
