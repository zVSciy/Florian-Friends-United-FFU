convoy_escort = {
    track = screens
    name = SUBDOCTRINE_SCREEN_CONVOY_ESCORT
    description = SUBDOCTRINE_SCREEN_CONVOY_ESCORT_DESC
    icon = GFX_doctrine_convoy_sailing_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 95
            original_tag = ENG
        }
    }

    # EFFECTS
	convoy_escort_efficiency = 0.20
	convoy_retreat_speed = 0.15
	destroyer = {
		naval_torpedo_damage_reduction_factor = 0.5
	}

    rewards = {
		anti_submarine_sweep_training = {
			destroyer = {
				sub_detection = 0.10
			}
		}
        escort_reclassification = {
			destroyer = {
				max_organisation = 20
			}
		}
		sweeping_duty = {
			destroyer = {
				naval_speed = 0.1
			}
		}
		creeping_attack = {
			destroyer = {
				sub_detection = 0.10
				lg_attack = 0.05
			}
		}
		as_below_so_above = {
			destroyer = {
				anti_air_attack = 0.15
			}
		}
    }
}

support_integrated_operations = {
    track = screens
    name = SUBDOCTRINE_SCREEN_INTEGRATED_OPERATIONS
    description = SUBDOCTRINE_SCREEN_INTEGRATED_OPERATIONS_DESC
    icon = GFX_doctrine_escort_patrols_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 95
            original_tag = USA
        }
        modifier = {
            factor = 95
            original_tag = ITA
        }
    }

    # EFFECTS
	screening_efficiency = 0.10
	
    rewards = {
        first_line_of_defense = {
			destroyer = {
				max_organisation = 15
				naval_torpedo_damage_reduction_factor = 0.5
				torpedo_attack = 0.20
			}
		}
		first_line_of_attack = {
			light_cruiser = {
				max_organisation = 20
				naval_light_gun_hit_chance_factor = 0.05
			}
		}
		blue_water_training = {
			destroyer = {
				water_deep_ocean = {
					attack = 0.20
					defense = 0.20
					movement = 0.10
				}
			}
		}
			
		
		fleet_coordination = {
			screening_efficiency = 0.10
		}
		early_warning = {
			destroyer = {
				surface_detection = 0.10
				max_organisation = 10
				lg_attack = 0.2
				lg_armor_piercing = 0.1
				naval_torpedo_screen_penetration_factor = 0.25
			}
			light_cruiser = {
				surface_detection = 0.10
			}
		}
    }
}

hunter_killers = {
    track = screens
    name = SUBDOCTRINE_SCREEN_HUNTER_KILLERS
    description = SUBDOCTRINE_SCREEN_HUNTER_KILLERS_DESC
    icon = GFX_doctrine_hunter_killer_groups_medium

    xp_cost = 100
    xp_type = navy

    available = {
    
    }

    visible = {
    	has_dlc = "No Compromise, No Surrender"
    }
    ai_will_do = { 
        base = 1
        modifier = {
            factor = 95
            OR = {
            	original_tag = FRA
            	original_tag = SOV
            }
        }
    }

    # EFFECTS
	naval_coordination = 0.10 
	
    rewards = {
		search_and_destroy = {
			destroyer = {
				sub_detection = 0.15
			}
		}
		flotilla_leader = {
			carrier = {
				carrier_sub_detection = 0.15
			}
		}
		group_operations = {
			destroyer = {
				sub_attack = 0.10
			}
		}
		combat_readiness = {
			carrier = {
				max_organisation = 15
			}
		}
		escort_group_patrols = {
			carrier = {
				patrol_coordination = 0.20
			}
			destroyer = {
				patrol_coordination = 0.20
			}
		}
    }
}

torpedo_primacy = {
    track = screens
    name = SUBDOCTRINE_SCREEN_TORPEDO_PRIMACY
    description = SUBDOCTRINE_SCREEN_TORPEDO_PRIMACY_DESC
    icon = GFX_doctrine_submarine_offensive_medium

    xp_cost = 100
    xp_type = navy

    ai_will_do = { 
        base = 0
        modifier = {
            factor = 95
            original_tag = JAP
        }
    }
    available = {
   		always = yes
    }
    naval_night_attack = 0.25

    rewards = {

    	modern_broadsides = {
    		destroyer = {
    			torpedo_attack = 0.2
    		}
    	}
    	coordinated_fire_patterns = {
    		destroyer = {
    			max_organisation = 20
    		}
    	}	
    	dedicated_torpedo_task_forces = {
    		light_cruiser = {
    			sub_attack = 0.2
    			torpedo_attack = 0.2
    		}
    		destroyer = {
    			sub_attack = 0.2
    		}

    	}
    	improved_escort_role = {
    		destroyer = {
    			sub_detection = 0.2
    		}
    	}

    	task_force_integration = {
    		light_cruiser =  {
    			max_organisation = 20
    		}
    		heavy_cruiser = {
    			max_organisation = 20
    			anti_air_attack = 0.25
    		}
    	}
    }
}




jeune_ecole = {
	track = screens
    name = SUBDOCTRINE_SCREEN_JEUNE_ECOLE
    description = SUBDOCTRINE_SCREEN_JEUNE_ECOLE_DESC
    icon = GFX_doctrine_battlefleet_concentration_medium
    xp_cost = 100
    xp_type = navy

    available = {
    	#TODO: special project
   		always = yes
    }

    light_cruiser = {
		armor_value = 0.1
		surface_visibility = -0.05
		max_strength = 0.05
		max_organisation = 20
	}

    rewards = {

    	commerce_raiding_priority = {
    		light_cruiser = {
    			max_organisation = 20
    			lg_attack = 0.1
    		}
    	}
    	large_torpedo_boats = {
    		light_cruiser = {
    			lg_armor_piercing = 0.1
				naval_light_gun_hit_chance_factor = 0.1
    		}
    	}
    	total_economic_warfare = {
    		destroyer = {
    			max_organisation = 10
    		}
			light_cruiser = {
				max_organisation = 20
			}

    	}
    	sea_scabs = {
    		
    		destroyer = {
    			naval_speed = 0.1
    			patrol_coordination = 0.1
    		}
			light_cruiser = {
				naval_speed = 0.15
				surface_visibility = -0.05
				max_organisation = 10
				max_strength = 0.1
			}
    	}
    	autonomous_cruisers = {
    		battle_cruiser = {
    			hg_attack = 0.1
    			
    			naval_speed = 0.1

    		}
			light_cruiser = {
				lg_attack = 0.1
				lg_armor_piercing = 0.1
			}
			heavy_cruiser = {
				lg_attack = 0.1
			}

    	}
    }

}

patrol_boats = {
    track = screens
    name = SUBDOCTRINE_SCREEN_PATROL_BOATS
    description = SUBDOCTRINE_SCREEN_PATROL_BOATS_DESC
    icon = GFX_doctrine_patrol_boats_medium
    xp_cost = 50
    xp_type = navy

    available = {
   		always = yes
    }
    visible = {
    	has_dlc = "No Compromise, No Surrender"
    }

    naval_retreat_chance_after_initial_combat = 0.25
    navy_max_range_factor = -0.10
	destroyer = {
    	naval_speed = 0.10
    	fuel_consumption = -0.25
    	supply_consumption = -0.01
    }	

    rewards = {

    	hit_and_run = {
    		naval_retreat_speed = 0.20	
    	}
    	small_craft_harassment = {
    		amphibious_invasion_defence = 0.10
    		destroyer = {
    		    torpedo_attack = 0.20
    		}
    	}	
    	lie_in_wait = {		
			destroyer = {
				surface_visibility = -0.2
			}
		}
    	fast_sortie_turnaround = {
    		naval_morale_factor = 0.10
    		destroyer = {
    			max_organisation = 10
    		}
    	}
    	home_waters_defense = {
    		industrial_capacity_dockyard = 0.05
		}
	}
}