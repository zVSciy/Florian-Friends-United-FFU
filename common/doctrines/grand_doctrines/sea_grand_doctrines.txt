new_fleet_in_being = {
    folder = naval

    name = GRAND_DOCTRINE_FLEET_IN_BEING
    description = GRAND_DOCTRINE_FLEET_IN_BEING_DESC
    icon = GFX_doctrine_fleet_in_being_medium
    available = {
        always = yes
    }

    xp_cost = 100
    xp_type = navy

    ai_will_do = {
        base = 1
    }

    tracks = {
        submarines
        screens
        carriers
        capital_ships
    }

    # EFFECTS
	battleship = {
		max_organisation = 20			
	}
	battle_cruiser = {
		max_organisation = 25			
	}
	heavy_cruiser = {
		max_organisation = 10			
	}
	light_cruiser = {
		max_organisation = 15			
	}
	destroyer = {
		max_organisation = 15			
	}
	navy_capital_ship_defence_factor = 0.1
    screening_efficiency = 0.2
    positioning = 0.2
    naval_enemy_fleet_size_ratio_penalty_factor = 0.05
    critical_receive_chance = 0.1
	
    milestones = {
        {
            #subs
			convoy_escort_efficiency = 0.3
            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = capital_ships_milestone_var
                        }
                    }
                    set_variable = { capital_ships_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { capital_ships_milestone_var = 1 }
                }
            }
        }
        {
            #screens
	        navy_screen_attack_factor = 0.1

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = carriers_milestone_var
                        }
                    }
                    set_variable = { carriers_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { carriers_milestone_var = 1 }
                }
            }
        }
        {
            #carriers
			navy_anti_air_attack_factor = 0.25
            sortie_efficiency = 0.15

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = screens_milestone_var
                        }
                    }
                    set_variable = { screens_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { screens_milestone_var = 1 }
                }
            }
        }
        {
            #capitals
			
            navy_capital_ship_attack_factor = 0.1

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = submarines_milestone_var
                        }
                    }
                    set_variable = { submarines_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { submarines_milestone_var = 1 }
                }
            }
        }
    }
}

new_convoy_raiding = {
    folder = naval

    name = GRAND_DOCTRINE_CONVOY_RAIDING
    description = GRAND_DOCTRINE_CONVOY_RAIDING_DESC
    icon = GFX_doctrine_trade_interdiction_medium
    available = {
        always = yes
    }

    xp_cost = 100
    xp_type = navy

    ai_will_do = {
        base = 1

        modifier = {
            factor = 10
            is_major = no
        }
    }

    tracks = {
        submarines
        screens
        carriers
        capital_ships
    }

    # EFFECTS
	
	
	submarine = {
		max_organisation = 10
		surface_detection = 0.10
        sub_visibility = -0.1
	}
    battle_cruiser = {
        max_organisation = 20
        max_strength = 0.15
    }
    positioning = 0.15
	convoy_raiding_efficiency_factor = 0.15
	
    milestones = {
        {
            #Capital Ships
			convoy_escort_efficiency = 0.10

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = capital_ships_milestone_var
                        }
                    }
                    set_variable = { capital_ships_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { capital_ships_milestone_var = 1 }
                }
            }
        }
        {
            #Carriers
	        submarine_attack = 0.10
			naval_torpedo_reveal_chance_factor = -0.10

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = carriers_milestone_var
                        }
                    }
                    set_variable = { carriers_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { carriers_milestone_var = 1 }
                }
            }
        }
        {
            #Screens
			strike_force_movement_org_loss = -0.15
			naval_detection = 0.25

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = screens_milestone_var
                        }
                    }
                    set_variable = { screens_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { screens_milestone_var = 1 }
                }
            }
        }
        {
            #Submarines
	        sortie_efficiency = 0.15
			convoy_raiding_efficiency_factor = 0.1

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = submarines_milestone_var
                        }
                    }
                    set_variable = { submarines_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { submarines_milestone_var = 1 }
                }
            }
        }
    }
}

new_base_strike = {
    folder = naval

    name = GRAND_DOCTRINE_BASE_STRIKE
    description = GRAND_DOCTRINE_BASE_STRIKE_DESC
    icon = GFX_doctrine_base_strike_medium
    available = {
        always = yes
    }

    xp_cost = 100
    xp_type = navy

    ai_will_do = {
        base = 1
    }

    tracks = {
        submarines
        screens
        carriers
        capital_ships
    }

    # EFFECTS
	
	
	carrier = {
		max_organisation = 40
        max_strength = 0.1
	}
    battleship = {
        max_organisation = 10
    }
    battle_cruiser = {
        max_organisation = 10
    }
    heavy_cruiser = {
        max_organisation = 20
    }
    light_cruiser = {
        max_organisation = 10
    }
    destroyer = {
        max_organisation = 15
    }
	port_strike = 0.5
	navy_capital_ship_attack_factor = -0.05
    navy_visibility = -0.05
    naval_speed_factor = 0.1
    screening_efficiency = 0.2
    positioning = 0.05

    milestones = {
        {
            #Capital Ships
			navy_anti_air_attack_factor = 0.2

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = capital_ships_milestone_var
                        }
                    }
                    set_variable = { capital_ships_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { capital_ships_milestone_var = 1 }
                }
            }
        }
        {
            #Carriers
	        naval_strike_targetting_factor = 0.1
            naval_speed_factor = 0.1

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = carriers_milestone_var
                        }
                    }
                    set_variable = { carriers_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { carriers_milestone_var = 1 }
                }
            }
        }
        {
            #Screens
			carrier_sortie_hours_delay = -1
			naval_detection = 0.5

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = screens_milestone_var
                        }
                    }
                    set_variable = { screens_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { screens_milestone_var = 1 }
                }
            }
        }
        {
            #Submarines
	        sortie_efficiency = 0.30
			naval_strike_targetting_factor = 0.1
			navy_carrier_air_agility_factor = 0.10

            effect = {
                if = {
                    limit = {
                        NOT = {
                            has_variable = submarines_milestone_var
                        }
                    }
                    set_variable = { submarines_milestone_var = 1 }
                }
                else = {
                    add_to_variable = { submarines_milestone_var = 1 }
                }
            }
        }
    }
}
